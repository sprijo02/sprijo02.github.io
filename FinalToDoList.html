<html>
<head>
  <style>
    .High {color: red;}
    .Medium {color: orange;}
    .Low {color: grey;}
    .Done{color: black; 
    text-decoration: line-through;}
    #list{list-style: none;}
    #tasklist{position: relative; top:50px;
    margin-left:auto; margin-right:auto;}
    
    body {background-color: cyan;}
    #textbox {position: fixed; top:40px;
    margin-left:auto; margin-right:auto;}
    
  </style>
  </head>
  <body>
    <script type="text/javascript" src="http://bnmnetp.github.io/CS130/listsaver.js"></script>
   
    <label for="textbox">Enter Task</label>
    <input type="text" id="textbox" size="50">
    <br />
    <select id="priority">
    	<option>High</option>
    	<option>Medium</option>
    	<option>Low</option>
    </select>
        <button class="mybutton" onclick="addtask()">
          Add Task</button>
  
  <script>
  doneTask = function() {
      if(this.checked)
      {this.parentNode.classList.add("Done");}
      else
      {this.parentNode.classList.remove("Done")}
      localSave("tasklist");
    }
    
    
    
    addtask = function() {
      myBox = document.querySelector("#textbox");
      myPriority = document.querySelector("#priority");
      
      myUl = document.createElement("ul");
      myUl.setAttribute("id","tasklist");
      document.body.appendChild(myUl);
      
      myLi= document.createElement("li");
      myLi.classList.add(priority.value);
      myLi.setAttribute("id","list");
     
      myInput = document.createElement("input");
      myInput.type = "checkbox";
      myInput.addEventListener("click",doneTask);
      
      myText = document.createTextNode(myBox.value);
      
      myUl.appendChild(myLi);
      myLi.appendChild(myInput);
      myLi.appendChild(myText);
      
      localSave("tasklist");                          
    }
    </script>

    </body>
      <script type="text/javascript"> 
    window.onload = function() 
    {restoreList("tasklist",doneTask);
    }
    </script>
</html>
